import { useState } from "react";
import Head from "next/head";

import checkPalindrome from "@/lib/checkPalindrome";

export default function Home() {
  const [value, setValue] = useState("");
  const [{ isPalindrome, mirror, center, normalizedText }, setPali] = useState({
    isPalindrome: false,
    mirror: [],
    center: [],
    normalizedText: "",
  });

  const handleChange = (event) => {
    const text = event.target.value;
    setValue(text);
    setPali(checkPalindrome(text));
  };

  return (
    <div>
      <Head>
        <title>Palindromaker</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main>
        <h1>Palindromaker</h1>
        <textarea value={value} onChange={handleChange} rows={5} cols={50} />
        <br />
        <p>IsPalindrome: {isPalindrome ? "yes" : "NO"}</p>
        <p>{mirror}</p>
        <p>{center}</p>
        <p>{normalizedText}</p>
      </main>
    </div>
  );
}
